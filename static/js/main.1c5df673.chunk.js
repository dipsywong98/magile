(this.webpackJsonpmagile=this.webpackJsonpmagile||[]).push([[0],{195:function(e,t,n){},196:function(e,t){function n(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id=196},201:function(e,t){},203:function(e,t){},213:function(e,t){},215:function(e,t){},242:function(e,t){},243:function(e,t){},248:function(e,t){},250:function(e,t){},257:function(e,t){},276:function(e,t){},302:function(e,t,n){"use strict";n.r(t);var r,a,c,i,o,l=n(4),s=n(0),u=n(15),d=n.n(u),O=(n(195),n(7)),f=n(18),j=n(64),b=n(182),p=n(181),h=function(e){Object(b.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(j.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).maxPlayer=8,e.minPlayer=2,e.turn=0,e.direction=1,e.points=0,e.drawDeck=[],e.stage=[],e.mode=null,e.trashDeck=[],e.playerDeck=[],e.playerHp=[],e.logs=[],e.lastAction=null,e.ignited=!1,e.duel=!1,e}return n}(f.b),y=n(16),g=n(24);!function(e){e[e.PLAY_CARD=0]="PLAY_CARD",e[e.END=1]="END",e[e.DISCARD_CARD=2]="DISCARD_CARD",e[e.TAKE_HIT=3]="TAKE_HIT"}(r||(r={})),function(e){e.EARTH_MAGE="earth_mage",e.WATER_MAGE="water_mage",e.FIRE_MAGE="fire_mage",e.WIND_MAGE="wind_mage",e.THUNDER_MAGE="thunder_mage",e.EARTH_MISSILE="earth_missile",e.WATER_MISSILE="water_missile",e.FIRE_MISSILE="fire_missile",e.WIND_MISSILE="wind_missile",e.THUNDER_MISSILE="thunder_missile",e.LIGHT_MAGILE="light_magile",e.DARK_MAGILE="dark_magile",e.HOMO_IGNITE="homo_ignite",e.HETERO_IGNITE="hetero_ignite",e.ANGEL_GUARD="angel_guard"}(a||(a={})),function(e){e.HOMO="homo",e.HETERO="hetero"}(c||(c={})),function(e){e.MAGE="mage",e.MISSILE="missile",e.MAGILE="magile",e.IGNITE="ignite",e.ANGEL_GUARD="angel_guard"}(i||(i={})),function(e){e.NONE="none",e.EARTH="earth",e.WATER="water",e.FIRE="fire",e.WIND="wind",e.THUNDER="thunder",e.LIGHT="light",e.DARK="dark"}(o||(o={}));var E,I,m=[o.EARTH,o.WATER,o.FIRE,o.WIND,o.THUNDER,o.LIGHT,o.DARK],A=n(2),T=(E={},Object(A.a)(E,a.EARTH_MAGE,9),Object(A.a)(E,a.WATER_MAGE,9),Object(A.a)(E,a.FIRE_MAGE,9),Object(A.a)(E,a.WIND_MAGE,9),Object(A.a)(E,a.THUNDER_MAGE,9),Object(A.a)(E,a.EARTH_MISSILE,9),Object(A.a)(E,a.WATER_MISSILE,9),Object(A.a)(E,a.FIRE_MISSILE,9),Object(A.a)(E,a.WIND_MISSILE,9),Object(A.a)(E,a.THUNDER_MISSILE,9),Object(A.a)(E,a.LIGHT_MAGILE,3),Object(A.a)(E,a.DARK_MAGILE,3),Object(A.a)(E,a.HOMO_IGNITE,3),Object(A.a)(E,a.HETERO_IGNITE,3),Object(A.a)(E,a.ANGEL_GUARD,6),E),v=n(14),D=function(e,t){switch(t){case c.HOMO:switch(e){case 1:case 2:case 3:case 4:return 1;case 5:case 6:case 7:return 2;default:return 3}case c.HETERO:switch(e){case 1:case 2:case 3:case 4:return 1;case 5:case 6:return 2;default:return 3}default:return 0}},H=function(e){switch(e){case a.EARTH_MAGE:case a.WATER_MAGE:case a.FIRE_MAGE:case a.WIND_MAGE:case a.THUNDER_MAGE:return i.MAGE;case a.EARTH_MISSILE:case a.WATER_MISSILE:case a.FIRE_MISSILE:case a.WIND_MISSILE:case a.THUNDER_MISSILE:return i.MISSILE;case a.LIGHT_MAGILE:case a.DARK_MAGILE:return i.MAGILE;case a.HETERO_IGNITE:case a.HOMO_IGNITE:return i.IGNITE;case a.ANGEL_GUARD:return i.ANGEL_GUARD}},_=function(e,t){return e.reduce((function(e,n){var r=H(n);return e&&(r===t||r===i.MAGILE)}),!0)},M=function(e){switch(e){case a.EARTH_MAGE:case a.EARTH_MISSILE:return o.EARTH;case a.WATER_MAGE:case a.WATER_MISSILE:return o.WATER;case a.FIRE_MAGE:case a.FIRE_MISSILE:return o.FIRE;case a.WIND_MAGE:case a.WIND_MISSILE:return o.WIND;case a.THUNDER_MAGE:case a.THUNDER_MISSILE:return o.THUNDER;case a.LIGHT_MAGILE:return o.LIGHT;case a.DARK_MAGILE:return o.DARK;default:return o.NONE}},x=function(e){return![i.MISSILE,i.MAGE].includes(H(e))},R=function(e){var t=new Set,n=e.filter((function(e){return M(e)!==o.NONE}));return n.forEach((function(e){t.add(M(e))})),t.size===n.length},w=function(e,t,n){return new Error(JSON.stringify({messageKey:e,values:null!==t&&void 0!==t?t:{},variables:n}))},N=function e(t){return function(n){if(n.playerDeck[t].length>=n.playerHp[t])throw w("cannotDraw$playerAlreadyHas$countCards",{player:n.players[t],count:"".concat(n.playerHp[t])});var r=n.drawDeck[0];if(void 0===r)return e(t)(Object(O.a)(Object(O.a)({},n),{},{drawDeck:Object(f.e)(n.trashDeck),trashDeck:[]}));var a=[].concat(Object(y.a)(n.playerDeck[t]),[r]),c=Object(y.a)(n.playerDeck);return c[t]=a,a.length<n.playerHp[t]?e(t)(Object(O.a)(Object(O.a)({},n),{},{playerDeck:c,drawDeck:n.drawDeck.slice(1)})):Object(O.a)(Object(O.a)({},n),{},{playerDeck:c,drawDeck:n.drawDeck.slice(1)})}},S=function e(t){return function(n){if(1===n.playerHp[t]){var r=H(n.playerDeck[t][0]);if(1===n.playerDeck[t].length&&r!==i.MAGE&&r!==i.MISSILE)return Object(f.d)(e(t),N(t),L({cards:n.playerDeck[t]},t))(n)}return n}},G=function(e){e=Object(O.a)(Object(O.a)({},e),{},{turn:0,direction:1,points:0,drawDeck:[],stage:[],mode:null,trashDeck:[],playerDeck:[],playerHp:[],logs:[],lastAction:null,ignited:!1,duel:!1,winner:null});var t=Object.entries(T).flatMap((function(e){var t=Object(g.a)(e,2),n=t[0],r=t[1];return Array(r).fill(n)}));e.drawDeck=Object(f.e)(t);for(var n=0;n<e.players.length;n++)e.playerDeck[n]=[],e.playerHp[n]=7,e=N(n)(e);return Object(O.a)({},e)},L=function(e,t){var n=e.cards;return function(e){var r=[].concat(Object(y.a)(e.trashDeck),Object(y.a)(n)),a=Object(y.a)(e.playerDeck[t]);n.forEach((function(n){var r=a.indexOf(n);if(-1===r)throw w("$playerDoesNotOwnCard$card",{player:e.players[t]},{card:n});a.splice(r,1)}));var c=Object(y.a)(e.playerDeck);return c[t]=a,Object(O.a)(Object(O.a)({},e),{},{trashDeck:r,playerDeck:c})}},k=function(e){var t=e.cards;return function(e){return Object(O.a)(Object(O.a)({},e),{},{stage:[].concat(Object(y.a)(e.stage),Object(y.a)(t))})}},C=function(e,t){return function(e){if(e.playerDeck[t].length>e.playerHp[t])throw w("playerCardMoreThanHp");return e}},P=function(e,t){var n=e.cards;return function(e){if(3===n.length){if(n.map((function(e){return M(e)})).includes(o.NONE))throw w("cannotMixIgniteAngelWithMagiles");if(e.duel&&n.map((function(e){return H(e)})).includes(i.MAGILE))throw w("cannotPlayFunctionDuringDuel")}else{if(1!==n.length)throw w("canPlayOnly1Or3Cards");if(e.duel){var t=H(n[0]);if([i.MAGILE,i.IGNITE,i.ANGEL_GUARD].includes(t))throw w("cannotPlayFunctionDuringDuel")}}return e}},W=function(e,t){var n=e.cards,r=e.mode;return function(e){if(0===e.stage.length){if(null===r||void 0===r)throw w("specifyHomoOrHeteroAtFirstTransfer");if(r===c.HOMO&&1===e.playerHp[(t+1)%e.players.length])throw w("canOnlyDoHeteroWhenNextIs1hp");if(1!==n.length)throw w("canOnlyPlay1CardWhenAtFirstTransfer");if(H(n[0])!==i.MAGE&&H(n[0])!==i.MISSILE)throw w("canOnlyPlayNonFunctionWhenAtFirstTransfer");return Object(O.a)(Object(O.a)({},e),{},{mode:r})}return e}},$=function(e){var t=e.cards;return function(e){if(e.mode===c.HOMO&&!e.ignited){if(0===e.stage.length)return Object(O.a)({},e);var n=M(t[0]);if(n!==o.NONE){if(!function(e,t){return e.reduce((function(e,n){return e&&M(n)===t}),!0)}(t,M(e.stage[0])))throw w("canOnlyPlay$colorInThisHomoTransfer",{},{color:n});return Object(O.a)({},e)}}return e}},F=function(e){var t=e.cards;return function(e){if(e.mode===c.HETERO&&!e.ignited){if(0===e.stage.length)return Object(O.a)({},e);if(!function(e){return!!e.find((function(e){return M(e)===o.NONE}))}(t)){var n=H(e.stage[0]);if(R([].concat(Object(y.a)(e.stage),Object(y.a)(t)))){if(_(t,n))return Object(O.a)({},e);throw e.duel?w("youMayPlay$typeOnly",{},{type:n}):w("youMayPlay$typeOrMagileOnly",{},{type:n})}var r=e.stage.map((function(e){return M(e)})),a=t.map((function(e){return M(e)})).filter((function(e){return r.includes(e)})),i=m.filter((function(e){return!r.includes(e)}));throw w("$colorsPlayedAnd$colorsCanPlayInThisHetero$typeTransfer",{},{type:n,type2:n,colorsPlayed:a,colorsCanPlay:i})}}return e}},U=function(e){var t=e.cards;return function(e){if(1===t.length){var n=t[0];if(n===a.HETERO_IGNITE){if(e.mode===c.HETERO)return Object(O.a)(Object(O.a)({},e),{},{ignited:!0});throw w("cannotPlayHeteroIgniteDuringHomoTransfer")}if(n===a.HOMO_IGNITE){if(e.mode===c.HOMO)return Object(O.a)(Object(O.a)({},e),{},{ignited:!0});throw w("cannotPlayHomoIgniteDuringHeteroTransfer")}}return e}},Y=function(e){var t=e.cards;return function(e){return 1===t.length&&t[0]===a.ANGEL_GUARD?Object(O.a)({},e):e}},z=function(e){return function(){return function(t){if(e===t)throw w("invalidMove");return t}}},K=function(e){var t=(e.turn+e.players.length+e.direction)%e.players.length;return Object(O.a)(Object(O.a)({},e),{},{turn:t})},J=function(e){var t=e.playerHp.findIndex((function(e){return e<=0}));return-1!==t?Object(O.a)(Object(O.a)({},e),{},{winner:t}):e},B=function(e){return X(e)?e:q(e)},X=function(e){var t=e.ignited,n=e.duel,r=e.turn,l=e.mode,s=e.playerDeck[r];return!(n||!s.find((function(e){return e===a.ANGEL_GUARD})))||(l===c.HETERO?!(n||!s.find((function(e){return e===a.HETERO_IGNITE})))||(t?s.includes(a.HETERO_IGNITE):s.filter((function(e){return M(e)!==o.NONE})).filter((function(e){return!n||H(e)!==i.MAGILE})).filter((function(t){return _([t],H(e.stage[0]))})).filter((function(t){return!e.stage.map((function(e){return M(e)})).includes(M(t))})).length>0):!(n||!s.find((function(e){return e===a.HOMO_IGNITE})))||(t?s.includes(a.HOMO_IGNITE):s.filter((function(t){return M(t)===M(e.stage[0])})).length>0))},q=function(e){if(null!==e.mode){var t=e.turn,n=e.stage.filter((function(e){return H(e)===i.IGNITE})).length,r=D(e.stage.filter((function(e){return M(e)!==o.NONE})).length,e.mode)+n+(e.duel?1:0),a=Object(y.a)(e.playerHp);return a[t]-=r,Object(O.a)(Object(O.a)({},e),{},{playerHp:a})}return e},Q=function(e,t){return function(n){if(n.playerDeck[t].length-e.cards.length!==n.playerHp[t]){var r="".concat(n.playerDeck[t].length-n.playerHp[t]);throw w("shouldDiscard$countCards",{count:r})}return n}},V=function(e){return Object(O.a)(Object(O.a)({},e),{},{stage:[],trashDeck:Object(y.a)(e.stage),lastAction:null,ignited:!1,duel:e.duel||e.playerHp[e.turn]<=3,mode:null})},Z=function(e,t){var n=t.peerId;if(void 0===n)throw new Error("Expect peerId in action");var a=function(){var t=e.nameDict[e.members[n]];if(void 0===t)throw new Error("game not started");return t};switch(t.type){case f.a.START:return G(e);case r.PLAY_CARD:return function(e,t){return function(n){if(n.turn!==e)throw w("notYourTurn");var r=f.d.apply(void 0,[J,B,K,S(e),N(e)].concat(Object(y.a)([k,L,z(n),Y,U,F,$,P,W,C].map((function(n){return n(t,e)})))))(n);return Object(O.a)(Object(O.a)({},r),{},{lastAction:Object(O.a)(Object(O.a)({},t),{},{playerId:e})})}}(a(),t.payload)(JSON.parse(JSON.stringify(e)));case r.DISCARD_CARD:return f.d.apply(void 0,[V].concat(Object(y.a)([L,Q].map((function(e){return e(t.payload,a())})))))(JSON.parse(JSON.stringify(e)));case r.TAKE_HIT:return J(q(e));case r.END:return Object(O.a)(Object(O.a)({},e),{},{started:!1,ready:{}})}return e},ee=function(e){return Object.entries(e).sort((function(e,t){return t[1]-e[1]}))},te=function(e,t){return{type:r.PLAY_CARD,payload:{cards:e,mode:t}}},ne=function(e,t){var n=Object(y.a)(e.playerDeck[t]),r=ee(function(e){return e.map((function(e){return M(e)})).filter((function(e){return e!==o.NONE})).reduce((function(e,t){var n;return Object(O.a)(Object(O.a)({},e),{},Object(A.a)({},t,(null!==(n=e[t])&&void 0!==n?n:0)+1))}),{})}(n)),a=ee(function(e,t){return e.filter((function(e){return M(e)!==o.NONE})).filter((function(e,t,n){return n.indexOf(e)===t})).reduce((function(e,n){var r,a,c,o,l=H(n);return l===i.MAGILE&&t?e:l!==i.MAGILE||t?Object(O.a)(Object(O.a)({},e),{},Object(A.a)({},l,(null!==(r=e[l])&&void 0!==r?r:0)+1)):(o={},Object(A.a)(o,i.MISSILE,(null!==(a=e[i.MISSILE])&&void 0!==a?a:0)+1),Object(A.a)(o,i.MAGE,(null!==(c=e[i.MAGE])&&void 0!==c?c:0)+1),o)}),{})}(n,e.duel)),l=e.playerHp[(t+1)%e.playerHp.length];console.log({byColor:r,byType:a});var s=n.filter((function(e){return H(e)===i.MAGILE})).length,u=1===l||r[0][1]+1<=a[0][1]&&s<a[0][1]?c.HETERO:c.HOMO;return u===c.HOMO?te([n.find((function(e){return M(e)===r[0][0]}))],u):te([n.find((function(e){return H(e)===a[0][0]}))],u)},re=function(e,t){return e.playerDeck[t].length>e.playerHp[t]?function(e,t){var n,a=Object(y.a)(e.playerDeck[t]),c=a.length-e.playerHp[t],i=[];if(e.duel)for(;i.length<c&&a.find(x);)i.push(a.splice(a.findIndex(x),1)[0]);for(;i.length<c;)i.push(a.splice((n=a.length,Math.floor(Math.random()*n)),1)[0]);return{type:r.DISCARD_CARD,payload:{cards:i}}}(e,t):0===e.stage.length?ne(e,t):function(e,t){var n=e.playerDeck[t],i=e.mode,o=e.ignited,l=e.duel;if(i===c.HOMO){if(!o){var s=M(e.stage[0]),u=n.filter((function(e){return M(e)===s}));if(u.length>3)return te(u.slice(0,3));if(u.length>0)return te([u[0]])}if(!l){var d=n.find((function(e){return e===a.HOMO_IGNITE}));if(d)return te([d]);var O=n.find((function(e){return e===a.ANGEL_GUARD}));if(O)return te([O])}}else{if(!o){var f=e.stage.map((function(e){return M(e)})),j=H(e.stage[0]),b=new Set(m.filter((function(e){return!f.includes(e)}))),p=n.filter((function(e){var t=M(e);return!(H(e)!==j||!b.has(t))&&(b.delete(t),!0)}));if(console.log("playable colors",b,p),p.length>3)return te(p.slice(0,3));if(p.length>0)return te([p[0]])}if(!l){var h=n.find((function(e){return e===a.HETERO_IGNITE}));if(h)return te([h]);var y=n.find((function(e){return e===a.ANGEL_GUARD}));if(y)return te([y])}}return console.warn("AI PLAY CARD REACH EDGE CASE, TAKE HIT",e,t),{type:r.TAKE_HIT}}(e,t)},ae=Object(s.createContext)(null),ce=function(){var e=Object(s.useContext)(ae);if(null===e)throw new Error("please wrap it using withGameNetwork before calling this hook");return e},ie=n(19),oe=n.n(ie),le=n(30),se=n(350),ue=n(340),de={angel_guard:n.p+"static/media/angel_guard.16ea5f11.png",dark_magile:n.p+"static/media/dark_magile.1e723600.png",earth_mage:n.p+"static/media/earth_mage.e84ed39c.png",earth_missile:n.p+"static/media/earth_missile.c93568e4.png",fire_mage:n.p+"static/media/fire_mage.0e5240db.png",fire_missile:n.p+"static/media/fire_missile.6d251f43.png",hetero_ignite:n.p+"static/media/hetero_ignite.4942ab4f.png",homo_ignite:n.p+"static/media/homo_ignite.0dedd4a2.png",light_magile:n.p+"static/media/light_magile.787bb1b9.png",thunder_mage:n.p+"static/media/thunder_mage.fea8f838.png",thunder_missile:n.p+"static/media/thunder_missile.bb1203a2.png",water_mage:n.p+"static/media/water_mage.c01f4c8a.png",water_missile:n.p+"static/media/water_missile.fb44c368.png",wind_mage:n.p+"static/media/wind_mage.64b5492a.png",wind_missile:n.p+"static/media/wind_missile.c08191d4.png"},Oe=n(351),fe=n.n(Oe),je=n(86),be=n(87),pe=n(347),he=Object(se.a)((function(){return{root:{padding:"16px",width:"110px",height:"160px",borderRadius:"8px",cursor:"pointer",userSelect:"none",transition:"transform 0.1s ease-in-out",transformOrigin:"center","&:hover":{}}}})),ye=function(e){var t=e.style,n=e.card,r=e.onClick,a=e.disabled,c=e.selected,i=e.isDelete,o=he(),s=Object(v.g)().i18n;return Object(l.jsxs)(ue.a,{elevation:4,style:Object(O.a)({pointerEvents:a?"none":"auto",backgroundImage:"url(".concat(de[n],")"),backgroundSize:"cover",position:"relative"},t),className:o.root,onClick:a?void 0:r,children:[Object(l.jsx)("h2",{style:{fontFamily:"Big Shoulders Inline Text, inherit",margin:0,color:"white",textShadow:"5px 3px 8px black"},children:s[n]}),c&&Object(l.jsx)("div",{style:{position:"absolute",top:0,right:0},children:i?Object(l.jsx)(pe.a,{style:{color:je.a[500]},fontSize:"large"}):Object(l.jsx)(fe.a,{style:{color:be.a[500]},fontSize:"large"})})]})},ge=n(341),Ee=n(343),Ie=n(352),me=n(353),Ae=n(356),Te=n(354),ve=n.n(Te),De=n(355),He=n.n(De),_e=.3,Me=function(e){var t=e.maxWidth,n=e.style,r=Object(s.useState)(t),a=Object(g.a)(r,2),c=a[0],i=a[1];return Object(s.useEffect)((function(){setTimeout((function(){i("0")}),1)}),[]),Object(l.jsx)("div",{style:Object(O.a)({maxWidth:c,minWidth:c,transition:"min-width ".concat(_e,"s ease-in-out"),position:"relative"},n)})};!function(e){e[e.FIRST_PLAY=0]="FIRST_PLAY",e[e.RESPOND_PLAY=1]="RESPOND_PLAY",e[e.DISCARD=2]="DISCARD"}(I||(I={}));var xe,Re,we=function(e){var t=e.cards,n=e.hide,r=e.reveal,a=e.onCardsChoose,i=e.chooseCardFor,o=e.takeHit,u=e.myTurn,d=Object(s.useState)([]),O=Object(g.a)(d,2),f=O[0],j=O[1],b=Object(s.useState)(null),p=Object(g.a)(b,2),h=p[0],E=p[1],m=Object(s.useState)(!1),A=Object(g.a)(m,2),T=A[0],D=A[1],H=Object(s.useState)(!1),_=Object(g.a)(H,2),M=_[0],x=_[1],R=Object(v.g)().i18n,w=Object(s.useReducer)((function(e,t){var n=t.type,r=t.payload;switch(n){case"add":return void 0!==r&&e.add(r),new Set(e);case"delete":return void 0!==r&&e.delete(r),new Set(e);case"clear":return new Set;default:return e}}),new Set),N=Object(g.a)(w,2),S=N[0],G=N[1],L=function(){var e=Object(le.a)(oe.a.mark((function e(t,n){return oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:S.has(n)?G({type:"delete",payload:n}):G({type:"add",payload:n});case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),k=function(e){var n=e===c.HOMO||e===c.HETERO?e:void 0,r=i===I.DISCARD;a({cards:t.filter((function(e,t){return S.has(t)})),mode:n}).then((function(){x(r),E(null),j(Array.from(S)),G({type:"clear"}),setTimeout((function(){D(!0)}),1),setTimeout((function(){D(!1),j([]),x(!1)}),500)})).catch((function(e){console.error(e)}))},C=function(e,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return Object(l.jsx)("div",{style:{padding:r?0:"8px",maxWidth:"calc(100vw / ".concat(t.length+2,")"),transition:"max-width ".concat(_e/3,"s ease-in-out")},onMouseEnter:function(){return E(n)},onTouchStart:function(){return E(n)},onMouseLeave:function(){return E(null)},onTouchEnd:function(){return E(null)},children:e})};return Object(l.jsxs)("div",{style:{position:"fixed",bottom:0,left:0,right:0,zIndex:1,transform:n?"translateY(100%)":"translateY(40%)",transition:"transform 0.3s ease-in-out",pointerEvents:"none"},children:[Object(l.jsx)("div",{style:{textAlign:"center",transform:"translateY(-80px)",margin:"auto",display:"block",pointerEvents:"all"},children:u?Object(l.jsxs)(l.Fragment,{children:[n&&Object(l.jsx)(ge.a,{variant:"contained",onClick:r,children:Object(l.jsx)(Ee.a,{})}),!n&&i===I.RESPOND_PLAY&&Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(ge.a,{variant:"contained",title:R.takeHit,color:"secondary",onClick:function(){return window.confirm(R.areYouSureYouWantToTakeHit)&&o().catch(console.error)},children:Object(l.jsx)(Ie.a,{})}),Object(l.jsx)(ge.a,{style:{marginLeft:"8px"},variant:"contained",title:R.respond,color:"primary",onClick:k,children:Object(l.jsx)(me.a,{})})]}),!n&&i===I.FIRST_PLAY&&Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(ge.a,{variant:"contained",title:R.initializeHomoTransfer,color:"primary",onClick:function(){return k(c.HOMO)},children:Object(l.jsx)(ve.a,{})}),Object(l.jsx)(ge.a,{style:{marginLeft:"8px"},variant:"contained",title:R.initializeHeteroTransfer,color:"primary",onClick:function(){return k(c.HETERO)},children:Object(l.jsx)(He.a,{})})]}),!n&&i===I.DISCARD&&Object(l.jsx)(l.Fragment,{children:Object(l.jsx)(ge.a,{variant:"contained",color:"secondary",title:R.trash,onClick:k,children:Object(l.jsx)(Ae.a,{})})})]}):R.notYourTurn}),Object(l.jsxs)("div",{style:{display:"flex",justifyContent:"center",flexWrap:"nowrap"},children:[function(){for(var e=[],n=0,r=0;r<t.length;r++)f.includes(r)?e.push(null):(e.push(t[n]),n++);return M?[].concat(e,Object(y.a)(t.slice(n))):e}().map((function(e,r){return null===e?Object(l.jsx)(Me,{maxWidth:"calc(100vw / ".concat(t.length+2," + 16px)")},r):C(Object(l.jsx)(ye,{card:e,onClick:function(){return L(e,r)},disabled:n,style:{transform:h===r||S.has(r)?"translateY(-30%)":void 0},selected:S.has(r),isDelete:i===I.DISCARD}),r)})),f.length>0&&!M&&Object(l.jsx)("div",{style:{maxWidth:T?"calc((100vw / ".concat(t.length+2," + 16px) * ").concat(f.length,")"):"0",transition:"max-width ".concat(_e,"s ease-in-out"),display:"flex",flexWrap:"nowrap"},children:t.slice(t.length-f.length).map((function(e,r){return C(Object(l.jsx)(ye,{card:e,onClick:function(){return L(e,r)},disabled:n,style:{transform:T?void 0:"translateX(100vw)"},selected:S.has(r)}),r+t.length,!1)}))})]})]})},Ne=n(359),Se=n(348),Ge=n(349),Le=n(357),ke=n(342),Ce=function(){var e=ce(),t=e.state,n=e.dispatch,a=e.dispatchAs,c=e.myPlayerId,i=e.myLocals,o=e.hideDeck,u=e.setHideDeck,d=e.error,f=e.setError,j=e.renderedDeckId,b=Object(s.useState)(j),p=Object(g.a)(b,2),h=p[0],y=p[1],E=Object(v.g)().i18n,m=function(e){console.error("HANDLE ERROR");try{f(function(e,t){var n=JSON.parse(e.message),r=n.messageKey,a=n.values,c=n.variables;return Object.entries(null!==c&&void 0!==c?c:{}).forEach((function(e){var n=Object(g.a)(e,2),r=n[0],c=n[1];a[r]="string"===typeof c?t[c]:c.map((function(e){return t[e]})).join(", ")})),Object(v.f)(t[r],Object(O.a)({},a))}(e,E))}catch(t){f(e.message)}},A=t.turn===c||i.includes(t.players[t.turn]),T=function(){var e=Object(le.a)(oe.a.mark((function e(r){return oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t.turn!==c){e.next=6;break}return e.next=4,n(r).then((function(){return f("")}));case 4:e.next=12;break;case 6:if(!i.includes(t.players[t.turn])){e.next=11;break}return e.next=9,a(t.turn,r).then((function(){return f("")}));case 9:e.next=12;break;case 11:throw new Error("Not my turn");case 12:e.next=18;break;case 14:throw e.prev=14,e.t0=e.catch(0),m(e.t0),e.t0;case 18:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(t){return e.apply(this,arguments)}}(),D=function(){var e=Object(le.a)(oe.a.mark((function e(t){var n;return oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={type:r.PLAY_CARD,payload:t},e.next=3,T(n).then((function(){i.length>0&&u(!0)}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),H=function(){var e=Object(le.a)(oe.a.mark((function e(t){var n;return oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={type:r.DISCARD_CARD,payload:t},e.next=3,T(n);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),_=function(){var e=Object(le.a)(oe.a.mark((function e(){var t;return oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={type:r.TAKE_HIT},e.next=3,T(t);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(s.useEffect)((function(){setTimeout((function(){y(j)}),500)}),[j]);var M=I.RESPOND_PLAY;0===t.stage.length&&(M=I.FIRST_PLAY),void 0!==h&&null!==h&&t.playerDeck[h].length>t.playerHp[h]&&(M=I.DISCARD);var x=function(){var e=Object(le.a)(oe.a.mark((function e(t){return oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(M!==I.DISCARD){e.next=5;break}return e.next=3,H(t);case 3:e.next=7;break;case 5:return e.next=7,D(t);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(l.jsxs)("div",{style:{pointerEvents:"all",color:"white"},children:[t.started&&void 0!==c&&Object(l.jsx)(we,{cards:t.playerDeck[null!==h&&void 0!==h?h:c],onCardsChoose:x,chooseCardFor:M,hide:o,reveal:function(){return u(!1)},takeHit:_,myTurn:A}),Object(l.jsx)("div",{style:{maxHeight:"50%"},children:t.logs.slice().reverse().map((function(e,t){return Object(l.jsx)("div",{children:e},t)}))}),Object(l.jsxs)(Ne.a,{open:""!==d,onClose:function(){return f("")},"aria-labelledby":"form-dialog-title",children:[Object(l.jsx)(Se.a,{children:"Error"}),Object(l.jsx)(Ge.a,{children:Object(l.jsx)(Le.a,{children:d})}),Object(l.jsx)(ke.a,{children:Object(l.jsx)(ge.a,{onClick:function(){return f("")},color:"primary",children:"Close"})})]})]})},Pe=function(){var e=ce(),t=e.state,n=e.myPlayerId,a=e.dispatch,u=Object(s.useState)(null),d=Object(g.a)(u,2),f=d[0],j=d[1],b=Object(s.useState)(!1),p=Object(g.a)(b,2),h=p[0],y=p[1],E=Object(s.useState)(!1),I=Object(g.a)(E,2),m=I[0],A=I[1],T=Object(v.g)().i18n;Object(s.useEffect)((function(){A(!0),setTimeout((function(){y(!0)}),1),setTimeout((function(){j(t.stage),y(!1),A(!1)}),300)}),[t.lastAction]);var _=function(){var e=Object(le.a)(oe.a.mark((function e(){return oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a({type:r.END}).catch(console.error);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),x=function(){if(t.started){if(null!==t.winner){var e=t.players[t.winner];return Object(v.f)(T.loserIs$player,{player:e})}var n=t.players[t.turn];if(t.playerDeck[t.turn].length>t.playerHp[t.turn])return Object(v.f)(T.$playerDiscardCardTil$cardCount,{player:n,cardCount:"".concat(t.playerHp[t.turn])});if(0===t.stage.length)return Object(v.f)(T.$playerInitializingTransfer,{player:n});var r,a=T[null!==(r=t.mode)&&void 0!==r?r:c.HOMO];return Object(v.f)(T.$playerRespondTo$modeTransfer,{player:n,mode:a})}}(),R=Object(s.useMemo)((function(){return"".concat(function(e){var t=e.stage.filter((function(e){return H(e)===i.IGNITE})).length;return D(e.stage.filter((function(e){return M(e)!==o.NONE})).length,e.mode)+t+(e.duel?1:0)}(t))}),[t]),w=function(){if(t.started){if(null!==t.winner)return T.gameOver;if(t.duel)return T.duelHint;if(t.ignited)return T.ignitedHint}}();return t.started?Object(l.jsxs)("div",{style:{backgroundColor:"green",position:"fixed",top:0,left:0,right:0,bottom:0,color:"white",boxShadow:t.duel?"inset 0 0 100px #ff9d9d":void 0,transition:"box-shadow 0.3s ease-in-out"},children:[Object(l.jsx)("div",{style:{display:"flex",justifyContent:"space-around",margin:"auto"},children:new Array(t.players.length).fill(0).map((function(e,r){return(r+(null!==n&&void 0!==n?n:0)+t.playerHp.length)%t.playerHp.length})).filter((function(e){return e!==(null!==n&&void 0!==n?n:0)})).map((function(e){return Object(l.jsxs)("div",{style:{border:"solid ".concat(t.turn===e?"red":"transparent"," 2px"),padding:"16px 32px"},children:[t.players[e]," : ",t.playerHp[e]]})}))}),null!==f&&Object(l.jsx)("div",{style:Object(O.a)({position:"absolute"},{top:"50vh",left:"50vw"}),children:Object(l.jsxs)("div",{style:{transform:"translate(-50%,-100%)",textAlign:"center"},children:[w&&Object(l.jsx)("h3",{children:w}),Object(l.jsx)("h1",{children:x}),void 0!==t.winner&&null!==t.winner&&Object(l.jsx)("div",{children:Object(l.jsx)(ge.a,{variant:"contained",color:"primary",onClick:_,children:T.again})}),Object(l.jsx)("h3",{children:Object(v.f)(T.current$damage,{damage:R})}),Object(l.jsx)("div",{style:{display:"flex",justifyContent:"center",maxWidth:"calc(100vw - 32px)",flexWrap:"wrap",marginRight:"auto",marginLeft:"auto",marginBottom:"70px"},children:f.map((function(e){return Object(l.jsx)("div",{style:{padding:"8px",maxHeight:"70px"},children:Object(l.jsx)(ye,{card:e,disabled:!0})})}))})]})}),m&&null!==t.lastAction&&Object(l.jsx)("div",{style:{display:"flex",position:"absolute",left:"50vw",top:h?"50vh":t.lastAction.playerId===n?"100vh":"-100%",transition:["top","bottom","left","right"].map((function(e){return"".concat(e," 0.2s ease-in-out")})).join(",")},children:Object(l.jsx)("div",{style:{transform:"translate(-50%,-50%)",display:"flex"},children:t.lastAction.cards.map((function(e){return Object(l.jsx)("div",{style:{padding:"8px"},children:Object(l.jsx)(ye,{card:e,disabled:!0})})}))})}),Object(l.jsxs)("h3",{style:{position:"absolute",bottom:0,right:"20px"},children:[T.drawDeck,": ",t.drawDeck.length]})]}):Object(l.jsx)("div",{style:{backgroundColor:"green",position:"fixed",top:0,left:0,right:0,bottom:0,color:"white"}})},We={en:Object(O.a)(Object(O.a)({},v.e.en),{},(xe={gameName:"Magile",howToPlay:"How To Play",howToPlayContent:Object(l.jsx)("div",{children:"TBA"})},Object(A.a)(xe,c.HOMO,"Homo"),Object(A.a)(xe,c.HETERO,"Hetero"),Object(A.a)(xe,i.MAGE,"Mage"),Object(A.a)(xe,i.MISSILE,"Missile"),Object(A.a)(xe,i.MAGILE,"Magile"),Object(A.a)(xe,i.IGNITE,"Ignite"),Object(A.a)(xe,i.ANGEL_GUARD,"Angel Guard"),Object(A.a)(xe,o.NONE,"None"),Object(A.a)(xe,o.EARTH,"Earth"),Object(A.a)(xe,o.WATER,"Water"),Object(A.a)(xe,o.FIRE,"Fire"),Object(A.a)(xe,o.WIND,"Wind"),Object(A.a)(xe,o.THUNDER,"Thunder"),Object(A.a)(xe,o.LIGHT,"Light"),Object(A.a)(xe,o.DARK,"Dark"),Object(A.a)(xe,a.EARTH_MAGE,"Earth Mage"),Object(A.a)(xe,a.WATER_MAGE,"Water Mage"),Object(A.a)(xe,a.FIRE_MAGE,"Fire Mage"),Object(A.a)(xe,a.WIND_MAGE,"Wind Mage"),Object(A.a)(xe,a.THUNDER_MAGE,"Thunder Mage"),Object(A.a)(xe,a.EARTH_MISSILE,"Earth Missile"),Object(A.a)(xe,a.WATER_MISSILE,"Water Missile"),Object(A.a)(xe,a.FIRE_MISSILE,"Fire Missile"),Object(A.a)(xe,a.WIND_MISSILE,"Wind Missile"),Object(A.a)(xe,a.THUNDER_MISSILE,"Thunder Missile"),Object(A.a)(xe,a.LIGHT_MAGILE,"Light Magile"),Object(A.a)(xe,a.DARK_MAGILE,"Dark Magile"),Object(A.a)(xe,a.HOMO_IGNITE,"Homo Ignite"),Object(A.a)(xe,a.HETERO_IGNITE,"Hetero Ignite"),Object(A.a)(xe,a.ANGEL_GUARD,"Angel Guard"),Object(A.a)(xe,"gameOver","Game Over"),Object(A.a)(xe,"duelHint","DUEL! NO Function card and each hit will deduct 1 more hp!"),Object(A.a)(xe,"igniteHint","IGNITED! Respond only with same ignited or angel guard!"),Object(A.a)(xe,"loserIs$player","Loser is {{player}}"),Object(A.a)(xe,"$playerDiscardCardTil$cardCount","{{player}} discard card til {{cardCount}}"),Object(A.a)(xe,"$playerInitializingTransfer","{{player}} initializing transfer"),Object(A.a)(xe,"$playerRespondTo$modeTransfer","{{player}} responding to {{mode}} transfer."),Object(A.a)(xe,"current$damage","Current damage: {{damage}}"),Object(A.a)(xe,"again","Again"),Object(A.a)(xe,"drawDeck","Draw Deck"),Object(A.a)(xe,"notYourTurn","Not Your Turn"),Object(A.a)(xe,"takeHit","Take Hit"),Object(A.a)(xe,"areYouSureYouWantToTakeHit","Are you sure you want to take hit?"),Object(A.a)(xe,"respond","Respond"),Object(A.a)(xe,"initializeHomoTransfer","Initialize Homo Transfer"),Object(A.a)(xe,"initializeHeteroTransfer","Initialize Hetero Transfer"),Object(A.a)(xe,"trash","Trash"),Object(A.a)(xe,"cannotDraw$playerAlreadyHas$countCards","cannot draw, {{player}} already has {{count}} cards"),Object(A.a)(xe,"$playerDoesNotOwnCard$card","{{player}} doesnt own card {{card}}"),Object(A.a)(xe,"playerCardMoreThanHp","Player has card more than his hp, please discard"),Object(A.a)(xe,"cannotMixIgniteAngelWithMagiles","cannot mix ignite or angel card with mage, missiles and magiles"),Object(A.a)(xe,"cannotPlayFunctionDuringDuel","cannot play function card during duel"),Object(A.a)(xe,"canPlayOnly1Or3Cards","you can only play 1 card or 3 cards"),Object(A.a)(xe,"specifyHomoOrHeteroAtFirstTransfer","please specify homo transfer or hetero transfer as the first to transfer"),Object(A.a)(xe,"canOnlyDoHeteroWhenNextIs1hp","can only do hetero transfer when next player is 1 hp"),Object(A.a)(xe,"canOnlyPlay1CardWhenAtFirstTransfer","please play one card as the first to transfer"),Object(A.a)(xe,"canOnlyPlayNonFunctionWhenAtFirstTransfer","cannot play function type as the first to transfer"),Object(A.a)(xe,"canOnlyPlay$colorInThisHomoTransfer","cannot play color other than {{color}} in this homo transfer"),Object(A.a)(xe,"$colorsPlayedAnd$colorsCanPlayInThisHetero$typeTransfer","{{colorsPlayed}} {{type}} played. You may play {{colorsCanPlay}} {{type2}} in this hetero transfer"),Object(A.a)(xe,"youMayPlay$typeOnly","You may play {{type}} only"),Object(A.a)(xe,"youMayPlay$typeOrMagileOnly","You may play {{type}} or Magile only"),Object(A.a)(xe,"cannotPlayHomoIgniteDuringHeteroTransfer","Cannot Play Homo Ignite during Hetero transfer"),Object(A.a)(xe,"cannotPlayHeteroIgniteDuringHomoTransfer","Cannot Play Hetero Ignite during Homo transfer"),Object(A.a)(xe,"invalidMove","invalidMove"),Object(A.a)(xe,"shouldDiscard$countCards","should discard {{count}} cards"),xe)),zh:Object(O.a)(Object(O.a)({},v.e.zh),{},(Re={gameName:"\u9b54\u6cd5\u98db\u5f48\u5927\u4f5c\u6230",howToPlay:"\u73a9\u6cd5",howToPlayContent:Object(l.jsx)("div",{children:"\u9084\u6c92\u6709\u54e6"})},Object(A.a)(Re,c.HOMO,"\u540c\u7cfb"),Object(A.a)(Re,c.HETERO,"\u7570\u7cfb"),Object(A.a)(Re,i.MAGE,"\u9b54\u5f48"),Object(A.a)(Re,i.MISSILE,"\u98db\u5f48"),Object(A.a)(Re,i.MAGILE,"\u9b54\u6cd5\u98db\u5f48"),Object(A.a)(Re,i.IGNITE,"\u5f15\u7206"),Object(A.a)(Re,i.ANGEL_GUARD,"\u5929\u4f7f\u7684\u5e87\u8b77"),Object(A.a)(Re,o.NONE,"\u7121\u5c6c\u6027"),Object(A.a)(Re,o.EARTH,"\u5730\u7cfb"),Object(A.a)(Re,o.WATER,"\u6c34\u7cfb"),Object(A.a)(Re,o.FIRE,"\u706b\u7cfb"),Object(A.a)(Re,o.WIND,"\u98a8\u7cfb"),Object(A.a)(Re,o.THUNDER,"\u96f7\u7cfb"),Object(A.a)(Re,o.LIGHT,"\u5149\u7cfb"),Object(A.a)(Re,o.DARK,"\u6697\u7cfb"),Object(A.a)(Re,a.EARTH_MAGE,"\u5730\u7cfb\u9b54\u5f48"),Object(A.a)(Re,a.WATER_MAGE,"\u6c34\u7cfb\u9b54\u5f48"),Object(A.a)(Re,a.FIRE_MAGE,"\u706b\u7cfb\u9b54\u5f48"),Object(A.a)(Re,a.WIND_MAGE,"\u98a8\u7cfb\u9b54\u5f48"),Object(A.a)(Re,a.THUNDER_MAGE,"\u96f7\u7cfb\u9b54\u5f48"),Object(A.a)(Re,a.EARTH_MISSILE,"\u5730\u7cfb\u98db\u5f48"),Object(A.a)(Re,a.WATER_MISSILE,"\u6c34\u7cfb\u98db\u5f48"),Object(A.a)(Re,a.FIRE_MISSILE,"\u706b\u7cfb\u98db\u5f48"),Object(A.a)(Re,a.WIND_MISSILE,"\u98a8\u7cfb\u98db\u5f48"),Object(A.a)(Re,a.THUNDER_MISSILE,"\u96f7\u7cfb\u98db\u5f48"),Object(A.a)(Re,a.LIGHT_MAGILE,"\u5149\u7cfb\u9b54\u6cd5\u98db\u5f48"),Object(A.a)(Re,a.DARK_MAGILE,"\u6697\u7cfb\u9b54\u6cd5\u98db\u5f48"),Object(A.a)(Re,a.HOMO_IGNITE,"\u540c\u7cfb\u5f15\u7206"),Object(A.a)(Re,a.HETERO_IGNITE,"\u7570\u7cfb\u5f15\u7206"),Object(A.a)(Re,a.ANGEL_GUARD,"\u5929\u4f7f\u7684\u5e87\u8b77"),Object(A.a)(Re,"gameOver","\u904a\u6232\u7d50\u675f"),Object(A.a)(Re,"duelHint","\u5927\u6c7a\u6230! \u529f\u80fd\u5361\u5931\u6548\uff0c\u6bcf\u6b21\u50b7\u5bb3+1!"),Object(A.a)(Re,"igniteHint","\u5f15\u7206! \u53ea\u53ef\u4ee5\u7528\u540c\u4e00\u7a2e\u5f15\u7206\u6216\u5929\u4f7f\u7684\u5e87\u8b77\u4f5c\u97ff\u61c9!"),Object(A.a)(Re,"loserIs$player","\u8f38\u5bb6\u662f{{player}}"),Object(A.a)(Re,"$playerDiscardCardTil$cardCount","{{player}}\u68c4\u724c\u81f3{{cardCount}}\u5f35"),Object(A.a)(Re,"$playerInitializingTransfer","{{player}}\u958b\u59cb\u50b3\u905e"),Object(A.a)(Re,"$playerRespondTo$modeTransfer","{{player}}\u97ff\u61c9{{mode}}\u50b3\u905e"),Object(A.a)(Re,"current$damage","\u76ee\u524d\u7d2f\u7a4d\u50b7\u5bb3: {{damage}}"),Object(A.a)(Re,"again","\u518d\u73a9\u4e00\u6b21"),Object(A.a)(Re,"drawDeck","\u62bd\u724c\u5340"),Object(A.a)(Re,"notYourTurn","\u4e0d\u662f\u4f60\u7684\u56de\u5408\u54e6~"),Object(A.a)(Re,"takeHit","\u7528\u751f\u547d\u503c\u786c\u63a5"),Object(A.a)(Re,"areYouSureYouWantToTakeHit","\u4f60\u78ba\u5b9a\u8981\u7528\u751f\u547d\u503c\u786c\u63a5?"),Object(A.a)(Re,"respond","\u97ff\u61c9"),Object(A.a)(Re,"initializeHomoTransfer","\u767c\u52d5\u540c\u7cfb\u50b3\u905e"),Object(A.a)(Re,"initializeHeteroTransfer","\u767c\u52d5\u7570\u7cfb\u50b3\u905e"),Object(A.a)(Re,"trash","\u68c4\u5361"),Object(A.a)(Re,"cannotDraw$playerAlreadyHas$countCards","\u4e0d\u80fd\u62bd\u5361, {{player}}\u5df2\u7d93\u6709{{count}}\u5f35\u5361"),Object(A.a)(Re,"$playerDoesNotOwnCard$card","{{player}}\u6c92\u6709{{card}}"),Object(A.a)(Re,"playerCardMoreThanHp","\u73a9\u5bb6\u6709\u591a\u65bc\u4ed6\u8840\u91cf\u7684\u5361\uff0c\u8acb\u68c4\u5361"),Object(A.a)(Re,"cannotMixIgniteAngelWithMagiles","\u5f15\u7206\u548c\u5929\u4f7f\u5361\u4e0d\u80fd\u8207\u5176\u4ed6\u5361\u6df7\u7528"),Object(A.a)(Re,"cannotPlayFunctionDuringDuel","\u5927\u6c7a\u6230\u671f\u9593\u4e0d\u80fd\u7528\u529f\u80fd\u5361"),Object(A.a)(Re,"canPlayOnly1Or3Cards","\u4f60\u53ea\u80fd\u6253\u51fa\u4e00\u5f35\u6216\u4e09\u5f35\u5361"),Object(A.a)(Re,"specifyHomoOrHeteroAtFirstTransfer","\u767c\u52d5\u50b3\u905e\u6642\u8acb\u6307\u660e\u540c\u7cfb\u6216\u7570\u7cfb\u50b3\u905e"),Object(A.a)(Re,"canOnlyDoHeteroWhenNextIs1hp","\u7576\u4e0b\u5bb6\u53ea\u67091\u8840\u6642\u53ea\u80fd\u767c\u52d5\u7570\u7cfb\u50b3\u905e"),Object(A.a)(Re,"canOnlyPlay1CardWhenAtFirstTransfer","\u767c\u52d5\u50b3\u905e\u6642\u53ea\u80fd\u6253\u51fa\u4e00\u5f35\u5361"),Object(A.a)(Re,"canOnlyPlayNonFunctionWhenAtFirstTransfer","\u767c\u52d5\u50b3\u905e\u6642\u4e0d\u80fd\u6253\u51fa\u529f\u80fd\u5361"),Object(A.a)(Re,"canOnlyPlay$colorInThisHomoTransfer","\u6b64\u540c\u7cfb\u50b3\u905e\u53ea\u80fd\u6253\u51fa{{color}}"),Object(A.a)(Re,"$colorsPlayedAnd$colorsCanPlayInThisHetero$typeTransfer","{{colorsPlayed}}{{type}}\u5df2\u7d93\u6709\u4eba\u6253\u51fa\u3002\u9019\u5834\u7570\u7cfb\u50b3\u905e\u4f60\u53ef\u4ee5\u6253\u51fa{{colorsCanPlay}}{{type2}}"),Object(A.a)(Re,"youMayPlay$typeOnly","\u4f60\u53ea\u80fd\u6253\u51fa{{type}}"),Object(A.a)(Re,"youMayPlay$typeOrMagileOnly","\u4f60\u53ea\u80fd\u6253\u51fa{{type}}\u6216\u8005\u9b54\u6cd5\u98db\u5f48"),Object(A.a)(Re,"cannotPlayHomoIgniteDuringHeteroTransfer","\u7570\u7cfb\u50b3\u905e\u4e0d\u80fd\u6253\u51fa\u540c\u7cfb\u5f15\u7206"),Object(A.a)(Re,"cannotPlayHeteroIgniteDuringHomoTransfer","\u540c\u7cfb\u50b3\u905e\u4e0d\u80fd\u6253\u51fa\u7570\u7cfb\u5f15\u7206"),Object(A.a)(Re,"invalidMove","\u4e0d\u5141\u8a31\u7684\u884c\u52d5"),Object(A.a)(Re,"shouldDiscard$countCards","\u8acb\u68c4{{count}}\u5f35\u5361"),Re))},$e=Object(v.h)({i18ns:We})(function(e){var t=function(t){var n=Object(f.f)(Z,new h),r=n.myAis,a=n.state,c=n.dispatchAs;return Object(s.useEffect)((function(){if(void 0!==re&&r.includes(a.players[a.turn])&&a.started&&null===a.winner){var e=window.setTimeout((function(){var e=re(a,a.turn);c(a.turn,e).catch(console.error)}),1e3);return function(){window.clearTimeout(e)}}}),[c,r,a]),Object(l.jsx)(ae.Provider,{value:n,children:Object(l.jsx)(e,Object(O.a)({},t))})};return t.displayName="WithGameNetwork",t}((function(){var e=ce(),t=Object(v.g)().i18n;return Object(l.jsxs)(v.a,{gameAppState:e.gameAppState,fullPage:[!1,!1,!0],GameRenderer:Object(l.jsx)(Pe,{}),children:[Object(l.jsx)(v.b,Object(O.a)(Object(O.a)({},e),{},{gameName:t.gameName,children:Object(l.jsxs)(Ge.a,{children:[Object(l.jsx)("h2",{children:t.howToPlay}),Object(l.jsx)("div",{children:t.howToPlayContent})]})})),Object(l.jsx)(v.d,Object(O.a)({},e)),Object(l.jsx)(Ce,{}),Object(l.jsx)("div",{style:{position:"fixed",top:0,right:0,zIndex:100},children:Object(l.jsx)(v.c,{})})]})}))),Fe=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,361)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),r(e),a(e),c(e),i(e)}))};d.a.render(Object(l.jsx)($e,{}),document.getElementById("root")),Fe()}},[[302,1,2]]]);
//# sourceMappingURL=main.1c5df673.chunk.js.map